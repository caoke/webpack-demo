!function(e){var t={};function n(u){if(t[u])return t[u].exports;var r=t[u]={i:u,l:!1,exports:{}};return e[u].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,u){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:u})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var u=Object.create(null);if(n.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(u,r,function(t){return e[t]}.bind(null,r));return u},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=n(1),r=document.getElementById("child"),i=r.parentNode;u.addEventListener(r,"click",(function(e){console.log("child222")}),!0,1),u.addEventListener(i,"click",(function(e){return console.log("parent")}),!0),u.addEventListener(r,"click",(function(e){console.log("child")}),!0,3),u.dispatchEvent(r,"click")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=new(function(){function e(){this.bubbleQueue=new Array,this.captureQueue=new Array}return e.prototype.addBubbleQueue=function(e,t,n,u){void 0===u&&(u=0),this.bubbleQueue.filter((function(u){return u.target.id===e.id&&u.type===t&&u.listener==n})).length||(this.bubbleQueue.length<=u?this.bubbleQueue[u]={target:e,type:t,listener:n}:this.bubbleQueue.splice(u,0,{target:e,type:t,listener:n}))},e.prototype.addCaptureQueue=function(e,t,n,u){void 0===u&&(u=0),this.captureQueue.filter((function(u){return u.target.id===e.id&&u.type===t&&u.listener==n})).length||(this.captureQueue.length<=u?this.captureQueue[u]={target:e,type:t,listener:n}:this.captureQueue.splice(u,0,{target:e,type:t,listener:n}))},e}());t.addEventListener=function(e,t,n,r,i){void 0===r&&(r=!1);var o=!1;"boolean"==typeof r?o=r:"object"==typeof r&&(o=!!r.capture),o?u.addCaptureQueue(e,t,n,i):u.addBubbleQueue(e,t,n,i)},t.dispatchEvent=function(e,t){var n=e.parentNode,r=u.captureQueue.filter((function(e){return e.target.id===n.id&&e.type==t})),i=u.captureQueue.filter((function(n){return n.target.id===e.id&&n.type==t})),o=u.bubbleQueue.filter((function(e){return e.target.id===n.id&&e.type==t})),c=u.bubbleQueue.filter((function(n){return n.target.id===e.id&&n.type==t})),l=r.concat(i,c,o);console.log(l),l.forEach((function(e){e.listener()}))},t.removeEventListener=function(e,t,n,r){void 0===r&&(r=!1);var i=!1;"boolean"==typeof r?i=r:"object"==typeof r&&(i=!!r.capture),i?u.captureQueue=u.captureQueue.filter((function(u){return!(u.target.id==e.id&&u.type==t&&u.listener==n)})):u.bubbleQueue=u.bubbleQueue.filter((function(u){return!(u.target.id==e.id&&u.type==t&&u.listener==n)}))}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC50cyIsIndlYnBhY2s6Ly8vLi9zcmMvZXZlbnQtYXBpLnRzIl0sIm5hbWVzIjpbImluc3RhbGxlZE1vZHVsZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwibW9kdWxlSWQiLCJleHBvcnRzIiwibW9kdWxlIiwiaSIsImwiLCJtb2R1bGVzIiwiY2FsbCIsIm0iLCJjIiwiZCIsIm5hbWUiLCJnZXR0ZXIiLCJvIiwiT2JqZWN0IiwiZGVmaW5lUHJvcGVydHkiLCJlbnVtZXJhYmxlIiwiZ2V0IiwiciIsIlN5bWJvbCIsInRvU3RyaW5nVGFnIiwidmFsdWUiLCJ0IiwibW9kZSIsIl9fZXNNb2R1bGUiLCJucyIsImNyZWF0ZSIsImtleSIsImJpbmQiLCJuIiwib2JqZWN0IiwicHJvcGVydHkiLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsInAiLCJzIiwiZXZlbnRfYXBpXzEiLCJjaGlsZCIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJwYXJlbnQiLCJwYXJlbnROb2RlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJjb25zb2xlIiwibG9nIiwiZGlzcGF0Y2hFdmVudCIsInN1YiIsIlN1YiIsInRoaXMiLCJidWJibGVRdWV1ZSIsIkFycmF5IiwiY2FwdHVyZVF1ZXVlIiwiYWRkQnViYmxlUXVldWUiLCJ0YXJnZXQiLCJ0eXBlIiwibGlzdGVuZXIiLCJwcmlvcml0eSIsImZpbHRlciIsIml0ZW0iLCJpZCIsImxlbmd0aCIsInNwbGljZSIsImFkZENhcHR1cmVRdWV1ZSIsIm9wdGlvbnMiLCJmbGFnIiwiY2FwdHVyZSIsInBhcmVudENhcEV2ZW50Iiwic2VsZkNhcEV2ZW50IiwicGFyZW50QnViYkV2ZW50Iiwic2VsZkJ1YmJFdmVudCIsImFyciIsImNvbmNhdCIsImZvckVhY2giLCJyZW1vdmVFdmVudExpc3RlbmVyIl0sIm1hcHBpbmdzIjoiYUFDRSxJQUFJ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QUFPcEIsRUFBT29CLElBQU1ELEVBQUtKLE1BQVFBLEtBQy9HYSxFQUFlckIsRUFBSUssYUFBYU0sUUFBTyxTQUFVQyxHQUFRLE9BQU9BLEVBQUtMLE9BQU9NLEtBQU9OLEVBQU9NLElBQU1ELEVBQUtKLE1BQVFBLEtBQzdHYyxFQUFrQnRCLEVBQUlHLFlBQVlRLFFBQU8sU0FBVUMsR0FBUSxPQUFPQSxFQUFLTCxPQUFPTSxLQUFPcEIsRUFBT29CLElBQU1ELEVBQUtKLE1BQVFBLEtBQy9HZSxFQUFnQnZCLEVBQUlHLFlBQVlRLFFBQU8sU0FBVUMsR0FBUSxPQUFPQSxFQUFLTCxPQUFPTSxLQUFPTixFQUFPTSxJQUFNRCxFQUFLSixNQUFRQSxLQUM3R2dCLEVBQU1KLEVBQWVLLE9BQU9KLEVBQWNFLEVBQWVELEdBQzdEekIsUUFBUUMsSUFBSTBCLEdBQ1pBLEVBQUlFLFNBQVEsU0FBVWQsR0FDbEJBLEVBQUtILGVBd0JidEQsRUFBUXdFLG9CQXBCUixTQUE2QnBCLEVBQVFDLEVBQU1DLEVBQVVRLFFBQ2pDLElBQVpBLElBQXNCQSxHQUFVLEdBQ3BDLElBQUlDLEdBQU8sRUFDWSxrQkFBWkQsRUFDUEMsRUFBT0QsRUFFaUIsaUJBQVpBLElBQ1pDLElBQVNELEVBQVFFLFNBRWpCRCxFQUNBbEIsRUFBSUssYUFBZUwsRUFBSUssYUFBYU0sUUFBTyxTQUFVQyxHQUNqRCxRQUFTQSxFQUFLTCxPQUFPTSxJQUFNTixFQUFPTSxJQUFNRCxFQUFLSixNQUFRQSxHQUFRSSxFQUFLSCxVQUFZQSxNQUlsRlQsRUFBSUcsWUFBY0gsRUFBSUcsWUFBWVEsUUFBTyxTQUFVQyxHQUMvQyxRQUFTQSxFQUFLTCxPQUFPTSxJQUFNTixFQUFPTSxJQUFNRCxFQUFLSixNQUFRQSxHQUFRSSxFQUFLSCxVQUFZQSIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZ2V0dGVyIH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBkZWZpbmUgX19lc01vZHVsZSBvbiBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIgPSBmdW5jdGlvbihleHBvcnRzKSB7XG4gXHRcdGlmKHR5cGVvZiBTeW1ib2wgIT09ICd1bmRlZmluZWQnICYmIFN5bWJvbC50b1N0cmluZ1RhZykge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBTeW1ib2wudG9TdHJpbmdUYWcsIHsgdmFsdWU6ICdNb2R1bGUnIH0pO1xuIFx0XHR9XG4gXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAnX19lc01vZHVsZScsIHsgdmFsdWU6IHRydWUgfSk7XG4gXHR9O1xuXG4gXHQvLyBjcmVhdGUgYSBmYWtlIG5hbWVzcGFjZSBvYmplY3RcbiBcdC8vIG1vZGUgJiAxOiB2YWx1ZSBpcyBhIG1vZHVsZSBpZCwgcmVxdWlyZSBpdFxuIFx0Ly8gbW9kZSAmIDI6IG1lcmdlIGFsbCBwcm9wZXJ0aWVzIG9mIHZhbHVlIGludG8gdGhlIG5zXG4gXHQvLyBtb2RlICYgNDogcmV0dXJuIHZhbHVlIHdoZW4gYWxyZWFkeSBucyBvYmplY3RcbiBcdC8vIG1vZGUgJiA4fDE6IGJlaGF2ZSBsaWtlIHJlcXVpcmVcbiBcdF9fd2VicGFja19yZXF1aXJlX18udCA9IGZ1bmN0aW9uKHZhbHVlLCBtb2RlKSB7XG4gXHRcdGlmKG1vZGUgJiAxKSB2YWx1ZSA9IF9fd2VicGFja19yZXF1aXJlX18odmFsdWUpO1xuIFx0XHRpZihtb2RlICYgOCkgcmV0dXJuIHZhbHVlO1xuIFx0XHRpZigobW9kZSAmIDQpICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgdmFsdWUgJiYgdmFsdWUuX19lc01vZHVsZSkgcmV0dXJuIHZhbHVlO1xuIFx0XHR2YXIgbnMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLnIobnMpO1xuIFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobnMsICdkZWZhdWx0JywgeyBlbnVtZXJhYmxlOiB0cnVlLCB2YWx1ZTogdmFsdWUgfSk7XG4gXHRcdGlmKG1vZGUgJiAyICYmIHR5cGVvZiB2YWx1ZSAhPSAnc3RyaW5nJykgZm9yKHZhciBrZXkgaW4gdmFsdWUpIF9fd2VicGFja19yZXF1aXJlX18uZChucywga2V5LCBmdW5jdGlvbihrZXkpIHsgcmV0dXJuIHZhbHVlW2tleV07IH0uYmluZChudWxsLCBrZXkpKTtcbiBcdFx0cmV0dXJuIG5zO1xuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDApO1xuIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG52YXIgZXZlbnRfYXBpXzEgPSByZXF1aXJlKFwiLi9ldmVudC1hcGlcIik7XG52YXIgY2hpbGQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2hpbGQnKTtcbnZhciBjaGlsZExpc3RlbmVyID0gZnVuY3Rpb24gKGUpIHtcbiAgICBjb25zb2xlLmxvZygnY2hpbGQnKTtcbn07XG52YXIgY2hpbGRMaXN0ZW5lcjIgPSBmdW5jdGlvbiAoZSkge1xuICAgIGNvbnNvbGUubG9nKCdjaGlsZDIyMicpO1xufTtcbnZhciBwYXJlbnQgPSBjaGlsZC5wYXJlbnROb2RlO1xudmFyIHBhcmVudExpc3RlbmVyID0gZnVuY3Rpb24gKGUpIHsgcmV0dXJuIGNvbnNvbGUubG9nKCdwYXJlbnQnKTsgfTtcbmV2ZW50X2FwaV8xLmFkZEV2ZW50TGlzdGVuZXIoY2hpbGQsICdjbGljaycsIGNoaWxkTGlzdGVuZXIyLCB0cnVlLCAxKTtcbmV2ZW50X2FwaV8xLmFkZEV2ZW50TGlzdGVuZXIocGFyZW50LCAnY2xpY2snLCBwYXJlbnRMaXN0ZW5lciwgdHJ1ZSk7IC8vXG5ldmVudF9hcGlfMS5hZGRFdmVudExpc3RlbmVyKGNoaWxkLCAnY2xpY2snLCBjaGlsZExpc3RlbmVyLCB0cnVlLCAzKTtcbmV2ZW50X2FwaV8xLmRpc3BhdGNoRXZlbnQoY2hpbGQsICdjbGljaycpO1xuLy8gcmVtb3ZlRXZlbnRMaXN0ZW5lcihjaGlsZCwgJ2NsaWNrJywgY2hpbGRMaXN0ZW5lcjIsIGZhbHNlKVxuLy8gZGlzcGF0Y2hFdmVudChjaGlsZCwgJ2NsaWNrJylcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xudmFyIFN1YiA9IC8qKiBAY2xhc3MgKi8gKGZ1bmN0aW9uICgpIHtcbiAgICBmdW5jdGlvbiBTdWIoKSB7XG4gICAgICAgIHRoaXMuYnViYmxlUXVldWUgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgdGhpcy5jYXB0dXJlUXVldWUgPSBuZXcgQXJyYXkoKTtcbiAgICB9XG4gICAgU3ViLnByb3RvdHlwZS5hZGRCdWJibGVRdWV1ZSA9IGZ1bmN0aW9uICh0YXJnZXQsIHR5cGUsIGxpc3RlbmVyLCBwcmlvcml0eSkge1xuICAgICAgICBpZiAocHJpb3JpdHkgPT09IHZvaWQgMCkgeyBwcmlvcml0eSA9IDA7IH1cbiAgICAgICAgdmFyIGFyciA9IHRoaXMuYnViYmxlUXVldWUuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICByZXR1cm4gaXRlbS50YXJnZXQuaWQgPT09IHRhcmdldC5pZCAmJiBpdGVtLnR5cGUgPT09IHR5cGUgJiYgaXRlbS5saXN0ZW5lciA9PSBsaXN0ZW5lcjtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghYXJyLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuYnViYmxlUXVldWUubGVuZ3RoIDw9IHByaW9yaXR5KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5idWJibGVRdWV1ZVtwcmlvcml0eV0gPSAoeyB0YXJnZXQ6IHRhcmdldCwgdHlwZTogdHlwZSwgbGlzdGVuZXI6IGxpc3RlbmVyIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhpcy5idWJibGVRdWV1ZS5zcGxpY2UocHJpb3JpdHksIDAsIHsgdGFyZ2V0OiB0YXJnZXQsIHR5cGU6IHR5cGUsIGxpc3RlbmVyOiBsaXN0ZW5lciB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgO1xuICAgIFN1Yi5wcm90b3R5cGUuYWRkQ2FwdHVyZVF1ZXVlID0gZnVuY3Rpb24gKHRhcmdldCwgdHlwZSwgbGlzdGVuZXIsIHByaW9yaXR5KSB7XG4gICAgICAgIGlmIChwcmlvcml0eSA9PT0gdm9pZCAwKSB7IHByaW9yaXR5ID0gMDsgfVxuICAgICAgICB2YXIgYXJyID0gdGhpcy5jYXB0dXJlUXVldWUuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7XG4gICAgICAgICAgICByZXR1cm4gaXRlbS50YXJnZXQuaWQgPT09IHRhcmdldC5pZCAmJiBpdGVtLnR5cGUgPT09IHR5cGUgJiYgaXRlbS5saXN0ZW5lciA9PSBsaXN0ZW5lcjtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghYXJyLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKHRoaXMuY2FwdHVyZVF1ZXVlLmxlbmd0aCA8PSBwcmlvcml0eSkge1xuICAgICAgICAgICAgICAgIHRoaXMuY2FwdHVyZVF1ZXVlW3ByaW9yaXR5XSA9ICh7IHRhcmdldDogdGFyZ2V0LCB0eXBlOiB0eXBlLCBsaXN0ZW5lcjogbGlzdGVuZXIgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNhcHR1cmVRdWV1ZS5zcGxpY2UocHJpb3JpdHksIDAsIHsgdGFyZ2V0OiB0YXJnZXQsIHR5cGU6IHR5cGUsIGxpc3RlbmVyOiBsaXN0ZW5lciB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgO1xuICAgIHJldHVybiBTdWI7XG59KCkpO1xudmFyIHN1YiA9IG5ldyBTdWIoKTtcbmZ1bmN0aW9uIGFkZEV2ZW50TGlzdGVuZXIodGFyZ2V0LCB0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucywgcHJpb3JpdHkpIHtcbiAgICBpZiAob3B0aW9ucyA9PT0gdm9pZCAwKSB7IG9wdGlvbnMgPSBmYWxzZTsgfVxuICAgIHZhciBmbGFnID0gZmFsc2U7XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgZmxhZyA9IG9wdGlvbnM7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBvcHRpb25zID09PSAnb2JqZWN0Jykge1xuICAgICAgICBmbGFnID0gISFvcHRpb25zLmNhcHR1cmU7XG4gICAgfVxuICAgIGlmIChmbGFnKSB7IC8vIOaNleiOt+mYtuauteaJp+ihjFxuICAgICAgICBzdWIuYWRkQ2FwdHVyZVF1ZXVlKHRhcmdldCwgdHlwZSwgbGlzdGVuZXIsIHByaW9yaXR5KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHN1Yi5hZGRCdWJibGVRdWV1ZSh0YXJnZXQsIHR5cGUsIGxpc3RlbmVyLCBwcmlvcml0eSk7XG4gICAgfVxufVxuZXhwb3J0cy5hZGRFdmVudExpc3RlbmVyID0gYWRkRXZlbnRMaXN0ZW5lcjtcbmZ1bmN0aW9uIGRpc3BhdGNoRXZlbnQodGFyZ2V0LCB0eXBlKSB7XG4gICAgdmFyIHBhcmVudCA9IHRhcmdldC5wYXJlbnROb2RlO1xuICAgIHZhciBwYXJlbnRDYXBFdmVudCA9IHN1Yi5jYXB0dXJlUXVldWUuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7IHJldHVybiBpdGVtLnRhcmdldC5pZCA9PT0gcGFyZW50LmlkICYmIGl0ZW0udHlwZSA9PSB0eXBlOyB9KTtcbiAgICB2YXIgc2VsZkNhcEV2ZW50ID0gc3ViLmNhcHR1cmVRdWV1ZS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsgcmV0dXJuIGl0ZW0udGFyZ2V0LmlkID09PSB0YXJnZXQuaWQgJiYgaXRlbS50eXBlID09IHR5cGU7IH0pO1xuICAgIHZhciBwYXJlbnRCdWJiRXZlbnQgPSBzdWIuYnViYmxlUXVldWUuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7IHJldHVybiBpdGVtLnRhcmdldC5pZCA9PT0gcGFyZW50LmlkICYmIGl0ZW0udHlwZSA9PSB0eXBlOyB9KTtcbiAgICB2YXIgc2VsZkJ1YmJFdmVudCA9IHN1Yi5idWJibGVRdWV1ZS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHsgcmV0dXJuIGl0ZW0udGFyZ2V0LmlkID09PSB0YXJnZXQuaWQgJiYgaXRlbS50eXBlID09IHR5cGU7IH0pO1xuICAgIHZhciBhcnIgPSBwYXJlbnRDYXBFdmVudC5jb25jYXQoc2VsZkNhcEV2ZW50LCBzZWxmQnViYkV2ZW50LCBwYXJlbnRCdWJiRXZlbnQpO1xuICAgIGNvbnNvbGUubG9nKGFycik7XG4gICAgYXJyLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgaXRlbS5saXN0ZW5lcigpO1xuICAgIH0pO1xufVxuZXhwb3J0cy5kaXNwYXRjaEV2ZW50ID0gZGlzcGF0Y2hFdmVudDtcbmZ1bmN0aW9uIHJlbW92ZUV2ZW50TGlzdGVuZXIodGFyZ2V0LCB0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zID09PSB2b2lkIDApIHsgb3B0aW9ucyA9IGZhbHNlOyB9XG4gICAgdmFyIGZsYWcgPSBmYWxzZTtcbiAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdib29sZWFuJykge1xuICAgICAgICBmbGFnID0gb3B0aW9ucztcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIG9wdGlvbnMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGZsYWcgPSAhIW9wdGlvbnMuY2FwdHVyZTtcbiAgICB9XG4gICAgaWYgKGZsYWcpIHsgLy8g5o2V6I636Zi25q615omn6KGMXG4gICAgICAgIHN1Yi5jYXB0dXJlUXVldWUgPSBzdWIuY2FwdHVyZVF1ZXVlLmZpbHRlcihmdW5jdGlvbiAoaXRlbSkge1xuICAgICAgICAgICAgcmV0dXJuICEoaXRlbS50YXJnZXQuaWQgPT0gdGFyZ2V0LmlkICYmIGl0ZW0udHlwZSA9PSB0eXBlICYmIGl0ZW0ubGlzdGVuZXIgPT0gbGlzdGVuZXIpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHN1Yi5idWJibGVRdWV1ZSA9IHN1Yi5idWJibGVRdWV1ZS5maWx0ZXIoZnVuY3Rpb24gKGl0ZW0pIHtcbiAgICAgICAgICAgIHJldHVybiAhKGl0ZW0udGFyZ2V0LmlkID09IHRhcmdldC5pZCAmJiBpdGVtLnR5cGUgPT0gdHlwZSAmJiBpdGVtLmxpc3RlbmVyID09IGxpc3RlbmVyKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0cy5yZW1vdmVFdmVudExpc3RlbmVyID0gcmVtb3ZlRXZlbnRMaXN0ZW5lcjtcbiJdLCJzb3VyY2VSb290IjoiIn0=